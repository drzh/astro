#!/usr/bin/perl

use strict;
use warnings;

my $c1 = "curl 'https://www.heavens-above.com/PlanetSummary.aspx?lat=32.7767&lng=-96.797&loc=Dallas&alt=0&tz=CST' -H 'User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:75.0) Gecko/20100101 Firefox/75.0' -H 'Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8' -H 'Accept-Language: en-US,en;q=0.5' --compressed -H 'Content-Type: application/x-www-form-urlencoded' -H 'Origin: https://www.heavens-above.com' -H 'Connection: keep-alive' -H 'Referer: https://www.heavens-above.com/PlanetSummary.aspx?lat=32.7767&lng=-96.797&loc=Dallas&alt=0&tz=CST' -H 'Cookie: ASP.NET_SessionId=b5xmb3e4teb32muytdvpqgal; userInfo=lat=32.7767&lng=-96.797&alt=0&tz=CST&loc=Dallas; __gads=ID=de12166a508cc5e2:T=1585078922:S=ALNI_MZoovQd31hX-F3Te5AQfOkOO4z1Wg' -H 'Upgrade-Insecure-Requests: 1' --data '__EVENTTARGET=&__EVENTARGUMENT=&__LASTFOCUS=&__VIEWSTATE=fxUE%2B2JwP3MpWZtXRuU0WGX1vRXJL1Atk%2FzlWkp%2Bi%2FQUI7wUS%2BP4iBldbjehZ9aRCzKCIAzDb%2BIE%2BegRnQIe5a44y3mBRyc1PngOihD3rPBzACtpWBlCdfULZ4bAERgxr2HQDFWm7GnutGJr%2FJjVQbQ5SXk%2B%2FAL7tv%2FPxNJAUM2D7Zy5FkYUNq93%2F3KyNRjiwyzvD34pG5yZfPDTnUH4wFnJH37CrMm76GcUoOFYjFnGYgptp5sANMQWHCyVK1bTaBrxW7wob0vCHm%2FKbc9WJ5%2BuDTQ%2BxlnBGc8QY%2BuCLsfXUT2vHb1iuPerD0X7xO952jyH%2FOAFrfE7FBWZ8woCmvttBGyAW%2BIAdOF%2FS8ax7u9%2BA1KbzM%2BowKZ8gpAVQ5F6zQLabXZNYY655iOCKBPPPxh9s4hq3OZwg28DuEvjSsd%2F9ZBZb3s8MYxpig1hprvAOnIoTGAxQP%2Fo%2F8pwr2LyxK%2FayVLI60Wp%2Fi9VUVhAQJi5Q%2BQOqivUVNVdhvE%2B5iKUhirp%2BVwLcBHkAY9%2F8IJAThx9oS0LUNZOcxaVvZpWLYM5JjNNu1bBQAWGK7AJ0BaIN3pOfy%2BIJwJFVsoMKv8k%2FojQ%2F8%2Ff%2FwdBL5Y2w%2FDczrVtouwU%2B57w5NydIVMs2H0JFFKI2np6GbJM24YaR9Nz5XXrg51CUY9o1vtGDd8PFK%2BWyR2rNHUMwNevDe0vCWZWc9OdZg%2FdX6uwYmUmv1ekWPSbQ4edpLwLZ62WOcYHxGtl9GSlDfnDcQzqQbUfKTEsOfQY7nDPXI4ipb9xKjs9f6QVyX7QjOi%2FnKPtxmeQWz5kRXUYJ98VEmrPgixxONCzi81IYc%2FIaaxMlv3JqsMhqfp4mz9EChJs83Va3DiPuDjtH%2B%2FYF%2FOh3MLCyi2DIP8hDLcpWhzM2IeXDS%2F%2FH8nw9oDTvJDw1cEH774yax2m7PDOcAG%2BXMspOb6IzFVylyHHFdAbqjkZhH67tbAHqOYnonDdWMhGAii27z9EmWad%2BlAh0w59K6Wkld1fuiyVvyu49z7FJ24wuWYKOjptklPOJO1NhXzraR3DfNQ0VwBW4LxiCScSW4RSFI4eIB3DNXoaHdsJw49Cud5kvcL0jiAbuhjl4LK5s0RrzYFPgf%2FmzyC%2FQOipcE4ofGhELvzh2gLf21gIGNEp%2BPbhDfnLzF9tAHpHiZPwpmRferTVay6%2BEmJZC3Qmf9fePixVbrekURP%2FedbIVHNLvewf1poW6DEIg0%2Bxgs902D7l707a3xkGWs5%2Fmc7BqBe7GtibokInvpjaWcmBOFw%2FIHwogTBWDc5m7njiZwnYZnuJVPOBObdCe%2FKDpOkxugO8DOt4FSz67Jb91DSSlCHOS7ZbXL8fZ2Y96%2Fl%2FG8NG2oAsn%2FA2L2A3pqnZHNkSQCEigJIGaYYvpvgQU%2B3J0yXHFHY0XfqiixT7HcOA8DnJmaXgMNnArC%2FcRmEBmOQcJP7jYKh8CP%2BPBcr873kJznnLIW38kgEHY0VCgb47QUFFwdq0XExYarOBQKsOdbxKQstdtUX4Np6qD1Tm0kO3dixLhTcX6F1VtfyX3bhI9KZ8oeHEbOSpmjGBdisDQY8J8eMurGjFBstF6nA3t0x3QR6MM8PL1X2BBdh8mfC%2FJE%2BzP%2Bkqy1NukYuqP%2FBi0yuKjpe%2Bt5v6SqaicrvWXYSgoUg1YTd1iSyW6HzJFo%2BXYvzIrT0EFZmTgUeRM09JlgbwyzDeFFWNP2H7JfeAIz0%2FCB47G8qKPQysVn5wXza5FxhvsHegVJhRWdWYe7a4XQgpVpmo2cdumebFasy0TQLcSFfIQE1yI31uhZLf3onRVCGX5eUEAIoH4md8cfhnyiwetrrWzgrs%2FEXWponPHUh3APD8EIJo36iD1wqKW69Ef%2FSiMA0Bv6hwASKSdV2kkhjqGgiLyn3UiWOpcPj4qis0mq46i7EKot%2BPHMDqxCfExqR2j2TZRnzdJ6PLgFoYrVs3zqHKw%2BGqECO%2ByvUAjQntgcI2jZ1tE0WmVt4Xe37vlhlA1YIFc6aVo81wWaor53%2FxodZPnOubWZWOyFZ%2FUDiPKXh3E8sBv%2Fwx2c%2B92HVirFrskGFhbxQy%2BamyvuW6zsagAe84v1V3DoBt8EvLnmkw4eIxIxt1x6tN8Sb1k97zNKsscKDLY2skJfoQayTenRAPdFa0sOn%2FQOlV%2Bqahe3WFyVrgZW6gTX%2BumdLJ3IWFueVCK4hT42vm7DPCmILwhVhLiwSmyQJu%2BnPGvW1alemsh8NNekY73Z3nxwoYYfzmBX3rjUZLBRrZUeocRXgJ0pQOuVgBGd9DDhA0i9ZKTDvHwAB%2FQH38pS3M6%2B4S1c%2BB6YcNZ0LMo3QKj%2FK0euUUEQm%2Bj0iBgpFtPp59ASmaadLZynXD9G4S6zgIGD89482qNkfcj062JEtZGRDDVI6z3wpAz1cxQmJ%2F9WPeK3kymePOwGVrW9xq%2FMB3tKfcKxfNQ9t%2FnljEszmEcpLJTWint4v42OGPpH0k3wiZCbvGS8fuG7zc%2Bcw6lUjpTiwyNZsFDKbXP5I8Hyo%2Ftlb2g%2BQWOYOOp2ny7aBll0sH2FIu4%2ByXDaSWO7MRM%2FEVHK1qH8FMwJJCSlxl6zSmwZsvLigLjpZZVH%2F7%2FdrJs6hnTg6ar0HNB06LRHVTNs6xNco2mn3xuEDFbiRsIO66QpDiaHgY%2FZ0XvDCDMbVPqPh1teX5%2BEx%2BCY%2FeC5Ufhubn6kQ6%2BGX1OUnSJrrNrBhxXtLS5RnbiYMhMzR8IUxeepdqZzfH7d2KMri6ZL9TU0TSS1LrHUqlYxygnKQdTYo3bZ8t%2BUdK3cKBQjZndi61td%2Fc12%2BFLkTAF9oMVypOEzd1VihxCUYKnir3KoiAObrqez877kZs%2FD3BzcE16g4VRFtJpA5NUIXD2hyX1TRS1nAow3WwcDmVAEdOkcgRt2rqJpOt9rwRQG2ikSZSfaswyilL8ifaZmveVxGn5J%2BK2IL27aUXFkWtEpitGtXreybI5IieqVu9QS11IF59de2UK2ggEkSCdeHz1Ov%2F8Nga%2FLSLjis3pLoNpu%2FQrdnIRC%2FkQvy0lJVJ2bxgM9UqLWx6zd7Z1hsbZ3XbxpeEBsIC9IgcXhvEXMxIqeGTbhapCnXhE%2BIgPejP6Ph6ebUZ0H7Q0YH9EtKnE4OlMkkypAxGe7ZFS%2F55tlbSPgvRSH9CBwly8qpCepKV4a4SjPDkx6gUx0rkFvhQ3Bx09qGF%2BbePJH0zTbEg8OQ6fz0fQDUS87FhrafKw2sPv%2FdXqd9dhK1YNbkhLlbsex%2FlM5SNbClJPrmF8gPh2ROgiDrL4XtlZwUMzHrv7EOOQtUv7c7HeTbz%2B39kZksx2u%2FCwZlXwwT7siTOyHQ9yY436w5v3z6K%2FZT%2FOpm02bK8rzPNxhJ%2F5wueAravcRLCD%2BuB5s%2FWIhahkJTEaMT8esXGNU6tnb36sGRaLmLbQQ6K7Tei3Ik%2Fus75XJESOA4uLUNts3haUbdILyxxjLTkda6l8bsANKpQTP2qOHX4T2TgPxQmvqkZlIo1xKA1UwW%2B4k2o5vYyhWFKiU8mgf1gbH3PTMoolLtTNG%2FXH91GNKFPne3C%2BOFlZ%2FDk6LX5puCqd1pZG2xC0YgvN7X8RKaox4cF9shSAMJJrfoQ7ssfDiC3DvefAIGUX8TCJS1wApDaqUdmSpKFY8zm2s6hP%2F0vx%2BN%2FoaDh%2FIGfu8e2KAiSZKpsS%2FZQoNJUYDGqQHJ%2BXwLTdqsgKTwEoInXJu3si7hbE8VSTHVsNhF4lMXcTm15ZAI5LUp0XTx7OJJ6xNOBYKrM6zcTylQQgTQCL%2BbGpRkcfxy8yZhcMyAlVNJH39kj1xPYPbV%2BVXE9JoOMxDYdzyOgKyLBsvmL4l6UoIRVBazSbrsRj2pUUzdBzkr%2FFaKFkndnA%2BfIz2yeVEAeQ0iTnmIaeBCiWQA1CClnSd93Q0rHYpm89FFxYGh54bmPPGboz6rjBp2M8mYkSXQP9kr%2FeZbFLmuusY8%2FiBJ3RbUB35bk4DPqNQwlX%2F29z6Y5olWC%2BZsymNZZiq2EFWLhjqU%2BioV28AQcT0YR9tH1oO%2F9p08t30aMIjwqNMPnUQZiyVgsXbiaW49XXRyyXqehqaHjppQ0WT%2BbZhFKOqKozRRZ6h7THI6O0oR2L9yeA2wUCXv%2B%2BHnRdObxiQ0xpQKF5rQF6WMRDZr4y1VbGALvSJmxdj3vWqHPOmBlpuC5zydvB%2B8oadEjXG3%2BIdCnywiPpYwmt9YXJZF2MZ1lkMbw0wc9IllliM4nkWXb4d1g%2ByeuLfrC4rftsdvd%2FcOgxbcBfWqNoXll5SAr97MAX9kA9L%2BAq7l%2FycZJM3yHchSZJs2%2BxOMTrqUyN0cVCNUBBq1oC2Yyu%2Bj6vPaxK%2FC5A%2BO4ax6d280kiQQ0W1PJxK4q2gwpj3VOU8s81GLSR2MBVEL0CZYUhQPXkaR6L7v6cBgTPS7n%2Fs3oQEWs0egJ%2BLeDpqabNrLkuawTJHWmjWwho%2FLVrvUFSzFBEQD9aUam%2BNNSpfFkXEcX5tZQt4QmMXTT%2FKbc2XL6K%2Fuvhfapn2w1ObV11jPWalNBouG0Od6rEBFj7jAtSE7F%2BxkMbmufdsJeUJIBmZZeGFVkfps8T6ZdYlvfMlXkAg14%2BAF7h%2BtjKP4egzIvPZJzmpD68sbIxqUOHAoZGi3BagLgtiEuFLJaYG8DROYIHg7fzsCKCCUTguPa4Z34jzpyQkprOHncG6zWoG5cYQO3OfStZT3RSjB4xIEqRcfvB5mFEEU%2B4sX%2BjTwDvlSg3MBA%2Flw%2B3viQB7Zhkr8r1R4gA5zRiJDDMl1zlWQw%2BB7gZscU4kRRw8S7t4TlEVVMclKf1xC8VLOMpD%2FR0h31MQIV%2FbQKtbgpJ7rhORYLylAmVv9%2FAh3U0jDrG9iyE2t5haLxZgZgNPsD0E52BneC1vXIs51LSOUzjEotrd%2BwR92OQhMjrxZSPqRp%2B9Pp8LQ5wetR7TYT4GqH8Mi0Nbkn1INMKmCP4GuOcd9KmIBZQGhsmMF%2FHnmYkXAcZ3sLXubndEH7FuDIujdsTuVPjptoEjXsJ9HNQgQdejCfqmu99Pf50AQnYZS7sY4Ix%2B1mSIVNC2S6OVa%2FgdYU%2B3ruGqA7vrH8K7mrVm8IOXZm32DlbdmI50eUXKwq8yiuj1somvG9RC4d8jNibjiYxmsNqQGHJMqVtDnkh3eYzgdCqMdz2vyKowhKKvSXHucokjV5HtLoEdLtXFioQ6JRw1KROMF9QMKX8vDZCYcUJaMaLMTgigK2XjvM29rN%2FFgKQ6206PZIq3uG3jhxoVl%2B0x5KOCkr7mgL02KILr8el5wyAlwBWSmCa1pu&__VIEWSTATEGENERATOR=330BEC11&utcOffset=-18000000&ctl00%24ddlCulture=en&ctl00%24cph1%24TimeSelectionControl1%24comboYear=";

my $year = 2018;
my $c2 = "&ctl00%24cph1%24TimeSelectionControl1%24comboMonth=";
my $mon = 9;
my $c3 = "&ctl00%24cph1%24TimeSelectionControl1%24comboDay=";
my $day= 18;
my $c4 = "&ctl00%24cph1%24TimeSelectionControl1%24txtTime=";
my $time = '14%3A44%3A29';
my $c5 = "&ctl00%24cph1%24TimeSelectionControl1%24btnSubmit=Update'";

while (<>) {
  chomp;
  /(\d\d\d\d)(\d\d)(\d\d)/;
  my $year = $1;
  my $mon = $2;
  my $day = $3;
  $mon =~ s%^0%%;
  $day =~ s%^0%%;
  print $c1, $year, $c2, $mon, $c3, $day, $c4, $time, $c5, ' > ', $_, '.htm', "\n";
}
